#20 开发者工具
Spring Boot包含了一个额外的工具集，可以使应用程序开发体验更愉快。``spring-boot-devtools``模块可以包含在任何项目中以提供额外的开发时特性。要包含devtools支持，只需将模块依赖添加到您的构建：
- Maven:
```xml
<dependencies>
    <dependency>
        <groupId>org.springframework.boot</groupId>
        <artifactId>spring-boot-devtools</artifactId>
        <optional>true</optional>
    </dependency>
</dependencies>
```
- Gradle.
```json
dependencies {
    compile("org.springframework.boot:spring-boot-devtools")
}
```

运行完整打包的应用程序时，开发人员工具会自动禁用。如果您的应用程序是使用``java -jar``启动的，或者如果它是使用特殊的classloader启动的，那么它就被认为是“生产应用”。将依赖标记为可选项是一种可以防止devtools通过项目传递到其他模块的最佳实践。Gradle不支持可选的依赖关系，因此您可能希望在此期间查看[``propdeps-plugin``](https://github.com/spring-projects/gradle-plugins/tree/master/propdeps-plugin)。

重新打包的档案在默认情况下不包含devtools。 如果您想使用某些远程devtools功能，则需要禁用excludeDevtools构建属性以包含它。该属性支持Maven和Gradle插件。

## 20.1 属性默认值
Spring Boot支持的一些库使用缓存来提高性能。例如，模板引擎会缓存已编译的模板以避免重复解析模板文件。另外，Spring MVC可以在提供静态资源时将HTTP缓存头添加到响应中。
虽然缓存在生产中非常有用，但它在开发过程中可能会产生反作用，从而阻止您看到您在应用程序中所做的更改。因此，spring-boot-devtools默认会禁用这些缓存选项。
缓存选项通常由您的``application.properties``文件中的设置进行配置。例如，Thymeleaf提供了``spring.thymeleaf.cache``属性。如果没有手动设置这些属性，spring-boot-devtools模块将自动应用合理的开发时配置。
有关应用的属性的完整列表，请参阅[DevToolsPropertyDefaultsPostProcessor](https://github.com/spring-projects/spring-boot/tree/1.5.x/spring-boot-devtools/src/main/java/org/springframework/boot/devtools/env/DevToolsPropertyDefaultsPostProcessor.java)。

##20.2 自动重启
使用``spring-boot-devtools``的应用将会在classpath中的文件发生变化时自动重启。在IDE中工作时，这是一个有用的特性，可以快速得到代码修改的返回。默认的，classpath中任何条目指向的文件夹修改都会被监视。注意某些静态文件和view模版不需要重启应用。
```
触发重启
DevTools只监视了classpath的资源，唯一触发重启的方法是更新classpath。更新classpath的方法取决于你正在使用的IDE。在Eclipse中，保存一个修改过的文件回导致claspath被修改进而触发重启。在IntelliJ IDEA中，构建工程(Build -> Make Project)会有同样的效果。
```
```
- 只要启用了forking，您也可以通过支持的构建插件（即Maven和Gradle）启动您的应用程序，因为DevTools需要隔离的应用程序类加载程序才能正常运行。 当Gradle和Maven在classpath中检测到DevTools时默认会这样做。
- 与LiveReload一起使用时，自动重启的效果非常好。详情请参阅[下文](https://docs.spring.io/spring-boot/docs/1.5.x/reference/htmlsingle/#using-boot-devtools)。 如果您使用JRebel，则自动重新启动将被禁用，以支持动态类重新加载。 其他devtools功能（例如LiveReload和属性覆盖）仍然可以使用。
- DevTools依赖application context的shutdown hook来在重启中关闭。如果你禁用了shutdown hook( SpringApplication.setRegisterShutdownHook(false))，它将无法工作。

```